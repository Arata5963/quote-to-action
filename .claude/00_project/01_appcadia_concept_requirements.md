# ActionSpark - きっかけを行動に変える

## 1. プロダクトコンセプト

### 1.1 サービス概要

**ActionSpark（アクションスパーク）**は、日常の様々な「きっかけ（trigger）」を記録し、その学びを具体的な「アクションプラン」に変換して実践を支援する行動変革プラットフォームです。

単なる記録アプリではなく「気づいて終わり」から「実践して成長」へと体験を変革し、きっかけとアクションの履歴を蓄積することで、個人の成長と学習効果を可視化します。

### 1.2 ビジョン

> 「すべての気づきを、確実な一歩に」
> 
> 日常に溢れる学びの瞬間を見逃さず、小さな行動の積み重ねで大きな変化を生み出す

### 1.3 解決する課題

#### 現状の問題
- 読書、動画、会話などで得た「これは大切だ」という気づきが日常に埋もれてしまう
- 感動や学びの瞬間と、実践のタイミングに時間的ギャップがある
- 「良いことを学んだ」という漠然とした記憶しか残らない
- 学びを行動に移すための具体的な仕組みがない

#### ソリューション
- きっかけを即座に記録できるシンプルなインターフェース
- 感動が冷めないうちに具体的なアクションプランを設定
- 1日1回の達成記録による無理のない習慣化
- ゲーミフィケーション要素による継続支援

## 2. ターゲットユーザー

### 2.1 プライマリターゲット

**忙しい現代人で成長意欲のある層（20代〜40代）**

- 自己啓発や学習に関心があるビジネスパーソン
- 日々の気づきを大切にしたい人
- 複雑な操作より「簡単で今すぐ終わる」ことを重視
- スモールステップで着実に成長したい人

### 2.2 ユーザーペルソナ

**ペルソナ1: 成長志向のビジネスパーソン（30代）**
- 仕事や自己啓発の本をよく読むが、実践まで至らない
- 「良い話を聞いた」で終わってしまうことにもどかしさを感じている
- 継続的な成長を望んでいるが、大きな変化は難しいと感じている

**ペルソナ2: 学びを活かしたい学生・若手社会人（20代）**
- SNSや動画で様々な情報に触れる機会が多い
- インプットは多いがアウトプットの機会が少ない
- 小さな一歩から始められる成長ツールを求めている

## 3. サービスの利用フロー

### 3.1 基本的な使い方

```
STEP 1: きっかけ保存（Trigger）
↓ 日常で心に響いた瞬間をテキストで記録
↓ カテゴリ分類：📝テキスト / 🎥映像 / 🎧音声 / 💬対話 / ✨体験 / 👀日常

STEP 2: アクションプラン設定（Action）
↓ 具体的で実行可能な小さな行動を決定
↓ 例：「階段を使う」「15分読書する」

STEP 3: 実践と記録（Achievement）
↓ 1日1回の達成記録
↓ 継続回数によるバッジ獲得
↓ 達成感の可視化
```

### 3.2 継続を促す仕組み

- **達成バッジシステム**: 0回(☆) → 1回(⭐) → 2回(🔥) → 3回(🏆) → 4回以上(👑)
- **1日1回制限**: 無理のないペースでの習慣化
- **コミュニティ機能**: いいね、コメントによる相互励まし
- **進捗の可視化**: 累計達成数、連続達成日数の表示

## 4. 機能要件

### 4.1 コア機能（MVP - 実装済み）

| 機能カテゴリ | 機能名 | 説明 | 状態 |
|---|---|---|---|
| 認証 | ユーザー登録・ログイン | メール/パスワード認証、Googleログイン | ✅ 完了 |
| 投稿 | きっかけ投稿 | trigger_content + action_planの作成 | ✅ 完了 |
| 投稿 | 投稿CRUD | 一覧表示、詳細、編集、削除 | ✅ 完了 |
| 達成 | 達成記録 | 1日1回の達成ボタン | ✅ 完了 |
| 達成 | 達成回数表示 | 累計カウント、バッジ表示 | ✅ 完了 |
| ユーザー | マイページ | プロフィール表示・編集 | ✅ 完了 |
| ソーシャル | いいね機能 | 投稿へのいいね | ✅ 完了 |
| ソーシャル | コメント機能 | 投稿へのコメント | ✅ 完了 |

### 4.2 拡張機能（本リリース - 開発中）

| 機能カテゴリ | 機能名 | 説明 | 優先度 |
|---|---|---|---|
| 検索 | オートコンプリート検索 | Stimulus + Ransackによるリアルタイム検索 | P1 |
| 分析 | ランキング機能 | 達成数ランキング（週間/月間/全期間） | P1 |
| 通知 | リマインダー機能 | 定期的な実践促進通知 | P2 |
| 連携 | LINE通知 | LINE Messaging APIによる通知 | P3 |
| インフラ | 独自ドメイン | ブランディング強化 | P3 |

### 4.3 非機能要件

| 項目 | 要件 | 基準値 |
|---|---|---|
| パフォーマンス | ページ読み込み速度 | 3秒以内 |
| パフォーマンス | 同時接続数 | 100ユーザー |
| 可用性 | 稼働率 | 99% |
| セキュリティ | 認証 | Devise + セッション管理 |
| セキュリティ | 認可 | current_userスコープ |
| ユーザビリティ | レスポンシブ対応 | モバイルファースト |
| アクセシビリティ | WCAG準拠 | レベルAA |

## 5. 技術スタック

### 5.1 アーキテクチャ

```
フロントエンド層
├── Hotwire (Turbo + Stimulus)
├── Tailwind CSS
└── ViewComponent

アプリケーション層
├── Ruby on Rails 7.2.2
├── MVC + Helper + Concern
└── RESTful API

データ層
├── PostgreSQL
├── Redis (キャッシュ)
└── Active Storage (S3)

インフラ層
├── Docker (開発環境)
├── Render (本番環境)
└── GitHub Actions (CI/CD)
```

### 5.2 主要ライブラリ

| カテゴリ | ライブラリ | 用途 |
|---|---|---|
| 認証 | Devise | ユーザー認証全般 |
| 認証 | OmniAuth | ソーシャルログイン |
| 検索 | Ransack | 高度な検索機能 |
| ページネーション | Kaminari | ページ分割 |
| 画像処理 | CarrierWave + MiniMagick | 画像アップロード・リサイズ |
| SEO | meta-tags | メタタグ管理 |
| 国際化 | Rails I18n | 日本語化 |
| テスト | RSpec + FactoryBot | 自動テスト |
| 品質管理 | RuboCop + Brakeman | コード品質・セキュリティ |

## 6. データモデル

### 6.1 主要エンティティ

```ruby
User
├── id: bigint (PK)
├── email: string (unique, not null)
├── name: string
├── avatar: string
└── has_many: posts, achievements, comments, likes

Post
├── id: bigint (PK)
├── user_id: bigint (FK)
├── trigger_content: text (not null, 1-100文字)
├── action_plan: text (not null, 1-100文字)
├── category: integer (enum)
├── image: string
├── related_url: string
├── achievement_count: integer (counter_cache)
└── has_many: achievements, comments, likes

Achievement
├── id: bigint (PK)
├── user_id: bigint (FK)
├── post_id: bigint (FK)
├── achieved_on: date (not null)
└── unique: [user_id, post_id, achieved_on]

Comment
├── id: bigint (PK)
├── user_id: bigint (FK)
├── post_id: bigint (FK)
└── content: text (not null, max 500文字)

Like
├── id: bigint (PK)
├── user_id: bigint (FK)
├── post_id: bigint (FK)
└── unique: [user_id, post_id]
```

### 6.2 カテゴリ定義

```ruby
enum category: {
  text: 0,        # 📝 テキスト（本、記事）
  video: 1,       # 🎥 映像（動画、映画）
  audio: 2,       # 🎧 音声（ポッドキャスト、音楽）
  conversation: 3, # 💬 対話（会話、議論）
  experience: 4,   # ✨ 体験（イベント、体験）
  observation: 5,  # 👀 日常（観察、発見）
  other: 6        # 📁 その他
}
```

## 7. UI/UXデザイン

### 7.1 デザイン原則

1. **シンプル**: 3タップ以内で主要操作完了
2. **直感的**: アイコンと色による視覚的フィードバック
3. **モチベーション重視**: 達成感を演出する要素
4. **モバイルファースト**: スマートフォンでの使いやすさ優先

### 7.2 カラースキーム

- プライマリ: 黒 (#000000) - 力強さと決意
- アクセント: イエロー (#FACC15) - エネルギーと閃き
- 成功: グリーン (#10B981) - 達成と成長
- 背景: グレー (#F3F4F6) - 落ち着きと集中

### 7.3 主要画面

1. **投稿一覧**: カード形式、無限スクロール
2. **投稿フォーム**: 2ステップ入力（きっかけ→アクション）
3. **達成ボタン**: 大きく押しやすい、アニメーション付き
4. **マイページ**: 実績グラフ、バッジコレクション

## 8. 成功指標（KPI）

### 8.1 ビジネス指標

| 指標 | 目標値 | 測定方法 |
|---|---|---|
| MAU (月間アクティブユーザー) | 1,000人 | ログイン履歴 |
| 継続率（7日） | 40% | コホート分析 |
| 継続率（30日） | 20% | コホート分析 |
| 平均達成回数/ユーザー/月 | 10回 | 達成記録集計 |

### 8.2 エンゲージメント指標

| 指標 | 目標値 | 測定方法 |
|---|---|---|
| 投稿作成率 | 30% | 登録ユーザー中の投稿者割合 |
| 達成記録率 | 50% | 投稿に対する達成記録割合 |
| ソーシャル機能利用率 | 25% | いいね・コメント実施率 |

## 9. 開発ロードマップ

### Phase 1: MVP（完了）
- ✅ 基本認証機能
- ✅ 投稿CRUD
- ✅ 達成記録機能
- ✅ 基本的なUI実装

### Phase 2: ソーシャル機能（完了）
- ✅ いいね・コメント
- ✅ カテゴリ絞り込み
- ✅ タブ切り替え（全体/自分）

### Phase 3: 品質向上（進行中）
- ✅ RSpec導入・テスト実装
- ✅ GitHub Actions CI構築
- ⏳ テストカバレッジ向上

### Phase 4: 本リリース機能（計画中）
- ⏳ オートコンプリート検索
- ⏳ ランキング機能
- ⏳ リマインダー機能
- ⏳ LINE通知連携
- ⏳ 独自ドメイン設定

## 10. リスクと対策

| リスク | 影響度 | 発生確率 | 対策 |
|---|---|---|---|
| ユーザー離脱率が高い | 高 | 中 | ゲーミフィケーション強化、プッシュ通知 |
| 差別化不足 | 高 | 中 | きっかけ→行動の独自性強調 |
| 技術的負債 | 中 | 中 | リファクタリング時間の確保 |
| セキュリティ侵害 | 高 | 低 | 定期的な脆弱性診断 |
| スケーラビリティ | 中 | 低 | 早期のパフォーマンス監視 |

## 11. 競合分析と差別化

### 11.1 競合サービス比較

| 項目 | ActionSpark | 日記アプリ | 習慣化アプリ |
|---|---|---|---|
| きっかけ記録 | ◎ | △ | × |
| 行動変換 | ◎ | × | △ |
| 習慣化支援 | ◎ | △ | ◎ |
| ソーシャル機能 | ○ | △ | ○ |
| シンプルさ | ◎ | ○ | △ |

### 11.2 独自の価値提案

1. **気づきと行動の一体化**: きっかけとアクションをセットで管理
2. **スモールステップ設計**: 小さな行動から始める成長システム
3. **即座の行動変換**: 感動が冷めないうちにアクション設定
4. **視覚的な達成感**: バッジとアイコンによる進捗可視化

## 12. セキュリティ・プライバシー

### 12.1 セキュリティ対策

- HTTPS通信の強制
- CSRF対策（Rails標準）
- SQLインジェクション対策（Active Record）
- XSS対策（Rails標準エスケープ）
- 適切な認証・認可の実装

### 12.2 プライバシー配慮

- 最小限の個人情報収集
- プライバシーポリシーの明示
- データ削除権の保証
- 第三者提供の制限

## 13. 今後の展望

### 13.1 中期ビジョン（1年後）

- AIによる最適なアクションプラン提案
- 企業向けチーム版の提供
- コーチング機能の追加
- 多言語対応（英語、中国語）

### 13.2 長期ビジョン（3年後）

- 学習プラットフォームとの連携
- パーソナルコーチAIの実装
- VR/ARを活用した体験型学習
- グローバル展開（10カ国以上）

---

## 改訂履歴

| 版 | 日付 | 内容 | 作成者 |
|---|---|---|---|
| 1.0 | 2025-10-01 | 初版作成 | 高橋新 |
| 1.1 | 2025-11-01 | MVP機能実装完了に伴う更新 | 高橋新 |
| 1.2 | 2025-11-20 | 本リリース向け機能追加 | 高橋新 |