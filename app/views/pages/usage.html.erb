<% 
# ===== メタタグ設定 =====
set_meta_tags(
  title: '使い方',
  description: 'ActionSparkの使い方を詳しく解説。ログイン方法から投稿、達成記録まで、基本的な機能の使い方をステップバイステップでご紹介します。'
)
%>

<div class="min-h-screen bg-gradient-to-br from-green-50 via-white to-blue-50">
  <!-- ===== ヘッダー ===== -->
  <div class="bg-gradient-to-r from-green-600 to-green-700 text-white py-16">
    <div class="container mx-auto px-4">
      <h1 class="text-4xl md:text-5xl font-bold text-center mb-4">
        使い方ガイド
      </h1>
      <p class="text-center text-lg text-green-100 max-w-2xl mx-auto">
        ActionSparkの基本的な使い方をステップバイステップでご紹介します
      </p>
    </div>
  </div>

  <!-- ===== コンテンツエリア ===== -->
  <div class="container mx-auto px-4 py-12 max-w-4xl">
    
    <!-- ===== 目次 ===== -->
    <div class="bg-white rounded-lg shadow-md p-6 mb-8">
      <h2 class="text-2xl font-bold text-gray-800 mb-4 flex items-center">
        <span class="text-3xl mr-3">📚</span>
        目次
      </h2>
      <nav class="space-y-2">
        <a href="#login" class="block text-green-600 hover:text-green-700 hover:underline transition">
          1. ログイン
        </a>
        <a href="#post-list" class="block text-green-600 hover:text-green-700 hover:underline transition">
          2. 投稿一覧
        </a>
        <a href="#post" class="block text-green-600 hover:text-green-700 hover:underline transition">
          3. きっかけ投稿
        </a>
        <a href="#achievement" class="block text-green-600 hover:text-green-700 hover:underline transition">
          4. 達成記録
        </a>
        <a href="#mypage" class="block text-green-600 hover:text-green-700 hover:underline transition">
          5. マイページ
        </a>
        <a href="#interaction" class="block text-green-600 hover:text-green-700 hover:underline transition">
          6. コメント・いいね
        </a>
      </nav>
    </div>

    <!-- ===== 1. ログイン ===== -->
    <section id="login" class="bg-white rounded-lg shadow-md p-8 mb-8 scroll-mt-20">
      <h2 class="text-3xl font-bold text-gray-800 mb-6 pb-3 border-b-4 border-green-500 flex items-center">
        <span class="bg-green-500 text-white rounded-full w-10 h-10 flex items-center justify-center mr-3 text-xl">1</span>
        ログイン
      </h2>
      <div class="prose max-w-none">
        <p class="text-gray-700 leading-relaxed mb-6">
          ヘッダーのハンバーガーメニューから「ログイン」をクリックするとログイン画面に遷移します。新規登録していない場合は、「新規登録」から行ってください。また、Googleログインも利用可能です。パスワードを忘れた場合は、パスワードリセットができます。
        </p>
        
        <!-- スクリーンショット -->
        <div class="bg-gray-50 rounded-lg p-4 border border-gray-200">
          <%= image_tag "usage_login.png", alt: "ログイン画面", class: "w-full rounded-lg shadow-sm" %>
        </div>

        <!-- ポイント -->
        <div class="bg-green-50 border-l-4 border-green-500 p-4 my-6">
          <h3 class="font-bold text-green-800 mb-2 flex items-center">
            <span class="text-xl mr-2">💡</span>
            ポイント
          </h3>
          <ul class="list-disc list-inside text-gray-700 space-y-1">
            <li>Googleログインを使えば、パスワード管理が不要で簡単にログインできます</li>
            <li>「ログイン状態を保持する」にチェックを入れると、次回から自動ログイン可能です</li>
          </ul>
        </div>
      </div>
    </section>

    <!-- ===== 2. 投稿一覧 ===== -->
    <section id="post-list" class="bg-white rounded-lg shadow-md p-8 mb-8 scroll-mt-20">
      <h2 class="text-3xl font-bold text-gray-800 mb-6 pb-3 border-b-4 border-green-500 flex items-center">
        <span class="bg-green-500 text-white rounded-full w-10 h-10 flex items-center justify-center mr-3 text-xl">2</span>
        投稿一覧
      </h2>
      <div class="prose max-w-none">
        <p class="text-gray-700 leading-relaxed mb-6">
          ログイン後、投稿一覧ページが表示されます。ここでは全ユーザーの「きっかけ」と「アクションプラン」を確認できます。
        </p>
        
        <!-- スクリーンショット -->
        <div class="bg-gray-50 rounded-lg p-4 border border-gray-200 mb-6">
          <%= image_tag "usage_posts.png", alt: "投稿一覧画面", class: "w-full rounded-lg shadow-sm" %>
        </div>

        <h3 class="text-xl font-bold text-gray-800 mb-4 mt-8">主な機能</h3>
        <div class="space-y-4">
          <div class="bg-gray-50 rounded-lg p-4">
            <h4 class="font-bold text-gray-800 mb-2">📝 タブ切り替え</h4>
            <p class="text-gray-700">「全体」と「自分の投稿」を切り替えて表示できます</p>
          </div>
          <div class="bg-gray-50 rounded-lg p-4">
            <h4 class="font-bold text-gray-800 mb-2">🔍 検索機能</h4>
            <p class="text-gray-700">きっかけやアクションプランの内容で検索できます</p>
          </div>
          <div class="bg-gray-50 rounded-lg p-4">
            <h4 class="font-bold text-gray-800 mb-2">🏷️ カテゴリ絞り込み</h4>
            <p class="text-gray-700">テキスト・映像・音声・対話・体験・日常・その他のカテゴリ別に絞り込めます</p>
          </div>
          <div class="bg-gray-50 rounded-lg p-4">
            <h4 class="font-bold text-gray-800 mb-2">💬 コメント・いいね</h4>
            <p class="text-gray-700">他のユーザーの投稿にコメントやいいねができます</p>
          </div>
        </div>
      </div>
    </section>

    <!-- ===== 3. きっかけ投稿 ===== -->
    <section id="post" class="bg-white rounded-lg shadow-md p-8 mb-8 scroll-mt-20">
      <h2 class="text-3xl font-bold text-gray-800 mb-6 pb-3 border-b-4 border-green-500 flex items-center">
        <span class="bg-green-500 text-white rounded-full w-10 h-10 flex items-center justify-center mr-3 text-xl">3</span>
        きっかけ投稿
      </h2>
      <div class="prose max-w-none">
        <p class="text-gray-700 leading-relaxed mb-6">
          日常で得た「きっかけ」と、それを実践する「アクションプラン」を投稿します。
        </p>
        
        <h3 class="text-xl font-bold text-gray-800 mb-4 mt-8">投稿の手順</h3>
        <ol class="list-decimal list-inside space-y-3 text-gray-700">
          <li>ハンバーガーメニューから「新規投稿」をクリック</li>
          <li>「きっかけ」の内容を入力（1〜100文字）<br>
              <span class="text-sm text-gray-600">例：「本で読んだ『小さな一歩が大きな変化を生む』という言葉」</span>
          </li>
          <li>「アクションプラン」を入力（1〜100文字）<br>
              <span class="text-sm text-gray-600">例：「毎日階段を使う」</span>
          </li>
          <li>カテゴリを選択<br>
              <span class="text-sm text-gray-600">📝テキスト / 🎥映像 / 🎧音声 / 💬対話 / ✨体験 / 👀日常 / 📁その他</span>
          </li>
          <li>必要に応じて画像を添付（オプション）</li>
          <li>「投稿」ボタンをクリック</li>
        </ol>

        <div class="bg-blue-50 border-l-4 border-blue-500 p-4 my-6">
          <h3 class="font-bold text-blue-800 mb-2 flex items-center">
            <span class="text-xl mr-2">💡</span>
            投稿のコツ
          </h3>
          <ul class="list-disc list-inside text-gray-700 space-y-1">
            <li>アクションプランは具体的で実行可能なものにしましょう</li>
            <li>「階段を使う」「15分読書する」など小さな一歩から始められる内容がおすすめ</li>
            <li>無理なく継続できる内容を設定することが成功の鍵です</li>
          </ul>
        </div>
      </div>
    </section>

    <!-- ===== 4. 達成記録 ===== -->
    <section id="achievement" class="bg-white rounded-lg shadow-md p-8 mb-8 scroll-mt-20">
      <h2 class="text-3xl font-bold text-gray-800 mb-6 pb-3 border-b-4 border-green-500 flex items-center">
        <span class="bg-green-500 text-white rounded-full w-10 h-10 flex items-center justify-center mr-3 text-xl">4</span>
        達成記録
      </h2>
      <div class="prose max-w-none">
        <p class="text-gray-700 leading-relaxed mb-6">
          設定したアクションプランを実行したら、「達成する」ボタンを押して記録しましょう。
        </p>
        
        <h3 class="text-xl font-bold text-gray-800 mb-4 mt-8">達成記録の方法</h3>
        <ol class="list-decimal list-inside space-y-3 text-gray-700">
          <li>投稿詳細ページまたは投稿一覧で「達成する」ボタンをクリック</li>
          <li>1日1回まで達成記録が可能です（翌日になるとリセット）</li>
          <li>達成回数に応じてアイコンが変化します</li>
          <li>ランダムでバッジを獲得できます</li>
        </ol>

        <h3 class="text-xl font-bold text-gray-800 mb-4 mt-8">達成回数による変化</h3>
        <div class="space-y-4">
          <div class="bg-gray-50 rounded-lg p-4 flex items-center gap-4">
            <span class="text-4xl">☆</span>
            <div>
              <h4 class="font-bold text-gray-800 mb-1">0回：空の星</h4>
              <p class="text-gray-700 text-sm">まだ達成していない状態</p>
            </div>
          </div>
          <div class="bg-gray-50 rounded-lg p-4 flex items-center gap-4">
            <span class="text-4xl">⭐</span>
            <div>
              <h4 class="font-bold text-gray-800 mb-1">1回：塗りつぶし星</h4>
              <p class="text-gray-700 text-sm">初めての達成！</p>
            </div>
          </div>
          <div class="bg-gray-50 rounded-lg p-4 flex items-center gap-4">
            <span class="text-4xl">🔥</span>
            <div>
              <h4 class="font-bold text-gray-800 mb-1">2回：炎</h4>
              <p class="text-gray-700 text-sm">継続の兆し</p>
            </div>
          </div>
          <div class="bg-gray-50 rounded-lg p-4 flex items-center gap-4">
            <span class="text-4xl">🏆</span>
            <div>
              <h4 class="font-bold text-gray-800 mb-1">3回：トロフィー</h4>
              <p class="text-gray-700 text-sm">習慣化の第一歩</p>
            </div>
          </div>
          <div class="bg-gray-50 rounded-lg p-4 flex items-center gap-4">
            <span class="text-4xl">👑</span>
            <div>
              <h4 class="font-bold text-gray-800 mb-1">4回以上：王冠</h4>
              <p class="text-gray-700 text-sm">継続達成者</p>
            </div>
          </div>
        </div>

        <h3 class="text-xl font-bold text-gray-800 mb-4 mt-8">バッジ獲得</h3>
        <p class="text-gray-700 leading-relaxed mb-4">
          達成記録をすると、ランダムでバッジを獲得できます（1日1個まで）。獲得したバッジはマイページで確認できます。
        </p>
        <div class="grid grid-cols-2 md:grid-cols-3 gap-4">
          <div class="bg-gray-50 rounded-lg p-3 text-center">
            <div class="text-3xl mb-2">📚</div>
            <p class="text-sm font-bold text-gray-800">読書家</p>
          </div>
          <div class="bg-gray-50 rounded-lg p-3 text-center">
            <div class="text-3xl mb-2">⭐</div>
            <p class="text-sm font-bold text-gray-800">スター</p>
          </div>
          <div class="bg-gray-50 rounded-lg p-3 text-center">
            <div class="text-3xl mb-2">🔥</div>
            <p class="text-sm font-bold text-gray-800">情熱</p>
          </div>
          <div class="bg-gray-50 rounded-lg p-3 text-center">
            <div class="text-3xl mb-2">💎</div>
            <p class="text-sm font-bold text-gray-800">ダイヤモンド</p>
          </div>
          <div class="bg-gray-50 rounded-lg p-3 text-center">
            <div class="text-3xl mb-2">🏆</div>
            <p class="text-sm font-bold text-gray-800">達成者</p>
          </div>
        </div>

        <div class="bg-green-50 border-l-4 border-green-500 p-4 my-6">
          <h3 class="font-bold text-green-800 mb-2 flex items-center">
            <span class="text-xl mr-2">💡</span>
            達成のポイント
          </h3>
          <ul class="list-disc list-inside text-gray-700 space-y-1">
            <li>毎日の達成を習慣にしましょう</li>
            <li>達成回数が増えるとモチベーションアップにつながります</li>
            <li>1日1回制限なので、確実に実行できた日に記録しましょう</li>
          </ul>
        </div>
      </div>
    </section>

    <!-- ===== 5. マイページ ===== -->
    <section id="mypage" class="bg-white rounded-lg shadow-md p-8 mb-8 scroll-mt-20">
      <h2 class="text-3xl font-bold text-gray-800 mb-6 pb-3 border-b-4 border-green-500 flex items-center">
        <span class="bg-green-500 text-white rounded-full w-10 h-10 flex items-center justify-center mr-3 text-xl">5</span>
        マイページ
      </h2>
      <div class="prose max-w-none">
        <p class="text-gray-700 leading-relaxed mb-6">
          ハンバーガーメニューから「マイページ」をクリックすると、自分の投稿一覧や達成記録を確認できます。
        </p>
        
        <h3 class="text-xl font-bold text-gray-800 mb-4 mt-8">確認できる情報</h3>
        <div class="space-y-4">
          <div class="bg-gray-50 rounded-lg p-4">
            <h4 class="font-bold text-gray-800 mb-2">📊 統計情報</h4>
            <ul class="list-disc list-inside text-gray-700 space-y-1 ml-4">
              <li>総投稿数：これまでに投稿した「きっかけ」の数</li>
              <li>総達成回数：累計の達成記録数</li>
              <li>今日の達成回数：本日の達成記録数</li>
            </ul>
          </div>
          <div class="bg-gray-50 rounded-lg p-4">
            <h4 class="font-bold text-gray-800 mb-2">📝 投稿一覧</h4>
            <p class="text-gray-700">自分が投稿したきっかけとアクションプランを一覧で確認できます</p>
          </div>
          <div class="bg-gray-50 rounded-lg p-4">
            <h4 class="font-bold text-gray-800 mb-2">🏆 獲得バッジ</h4>
            <p class="text-gray-700">達成記録で獲得したバッジを確認できます（ハンバーガーメニュー内の「バッジ」からも確認可能）</p>
          </div>
          <div class="bg-gray-50 rounded-lg p-4">
            <h4 class="font-bold text-gray-800 mb-2">✏️ プロフィール編集</h4>
            <p class="text-gray-700">プロフィール画像を設定・変更できます</p>
          </div>
        </div>
      </div>
    </section>

    <!-- ===== 6. コメント・いいね ===== -->
    <section id="interaction" class="bg-white rounded-lg shadow-md p-8 mb-8 scroll-mt-20">
      <h2 class="text-3xl font-bold text-gray-800 mb-6 pb-3 border-b-4 border-green-500 flex items-center">
        <span class="bg-green-500 text-white rounded-full w-10 h-10 flex items-center justify-center mr-3 text-xl">6</span>
        コメント・いいね
      </h2>
      <div class="prose max-w-none">
        <p class="text-gray-700 leading-relaxed mb-6">
          他のユーザーの投稿にコメントやいいねをして、お互いに励まし合いましょう。
        </p>
        
        <h3 class="text-xl font-bold text-gray-800 mb-4 mt-8">コメント機能</h3>
        <ol class="list-decimal list-inside space-y-3 text-gray-700">
          <li>投稿詳細ページ下部のコメント欄にコメントを入力</li>
          <li>「コメントする」ボタンをクリック</li>
          <li>自分のコメントは削除できます</li>
        </ol>

        <h3 class="text-xl font-bold text-gray-800 mb-4 mt-8">いいね機能</h3>
        <ol class="list-decimal list-inside space-y-3 text-gray-700">
          <li>投稿一覧または投稿詳細ページで「❤️」アイコンをクリック</li>
          <li>もう一度クリックすると、いいねを取り消せます</li>
          <li>いいね数は投稿カードに表示されます</li>
        </ol>

        <div class="bg-blue-50 border-l-4 border-blue-500 p-4 my-6">
          <h3 class="font-bold text-blue-800 mb-2 flex items-center">
            <span class="text-xl mr-2">💡</span>
            コミュニティのマナー
          </h3>
          <ul class="list-disc list-inside text-gray-700 space-y-1">
            <li>他のユーザーを応援する前向きなコメントを心がけましょう</li>
            <li>自分も頑張ろうと思える投稿にはいいねを押しましょう</li>
            <li>お互いの成長を支え合うコミュニティを作りましょう</li>
          </ul>
        </div>
      </div>
    </section>

    <!-- ===== フッター CTA ===== -->
    <div class="bg-gradient-to-r from-green-600 to-green-700 text-white rounded-lg shadow-lg p-8 text-center">
      <h2 class="text-2xl font-bold mb-4">さあ、始めましょう！</h2>
      <p class="mb-6 text-green-100">
        ActionSparkできっかけを行動に変えて、成長を実感しましょう
      </p>
      <%= link_to "投稿一覧に戻る", posts_path, class: "inline-block bg-white text-green-700 font-bold py-3 px-8 rounded-lg hover:bg-green-50 transition shadow-md" %>
    </div>

  </div>
</div>