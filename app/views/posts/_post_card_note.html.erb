<%# app/views/posts/_post_card_note.html.erb %>
<%# シンプルな投稿カード: サムネイル + タイトル + ユーザー名 %>

<article class="group">
  <%# サムネイル（16:9, 小さい角丸） %>
  <%= link_to post_path(post), class: "block" do %>
    <div class="aspect-video rounded overflow-hidden bg-gray-100">
      <%= image_tag post.youtube_thumbnail_url(size: :mqdefault),
            alt: post.youtube_title || post.action_plan,
            class: "w-full h-full object-cover",
            loading: "lazy" %>
    </div>
  <% end %>

  <%# コンテンツ %>
  <div class="pt-2">
    <%# タイトル（13px, 太字, 2行） %>
    <%= link_to post_path(post), class: "block hover:underline" do %>
      <h3 class="text-[13px] font-bold text-gray-900 leading-tight line-clamp-2">
        <%= post.youtube_title.presence || post.action_plan %>
      </h3>
    <% end %>

    <%# ユーザー名 %>
    <div class="mt-1.5">
      <%= link_to user_profile_path(post.user), class: "flex items-center gap-1 min-w-0 hover:underline" do %>
        <% if post.user.avatar.present? %>
          <%= image_tag post.user.avatar.url,
                alt: display_name(post.user),
                class: "w-4 h-4 rounded-full object-cover flex-shrink-0" %>
        <% else %>
          <div class="w-4 h-4 bg-gray-200 rounded-full flex items-center justify-center flex-shrink-0">
            <svg class="w-2.5 h-2.5 text-gray-400" viewBox="0 0 24 24" fill="currentColor">
              <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
            </svg>
          </div>
        <% end %>
        <span class="text-[11px] text-gray-500 truncate"><%= display_name(post.user) %></span>
      <% end %>
    </div>
  </div>
</article>
