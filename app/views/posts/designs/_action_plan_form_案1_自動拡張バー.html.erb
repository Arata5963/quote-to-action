<%# app/views/posts/designs/_action_plan_form_æ¡ˆ1_è‡ªå‹•æ‹¡å¼µãƒãƒ¼.html.erb %>
<%# æŠ•ç¨¿ãƒ•ã‚©ãƒ¼ãƒ : è‡ªå‹•æ‹¡å¼µãƒ•ãƒ­ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãƒãƒ¼ %>
<%# ç‰¹å¾´: ã‚°ãƒ¬ãƒ¼èƒŒæ™¯ã®ãƒ”ãƒ«åž‹ãƒãƒ¼ã€æ–‡å­—ãŒå¢—ãˆã‚‹ã¨è‡ªå‹•ã§é«˜ã•ãŒä¼¸ã³ã‚‹ %>

<div style="background: #f3f4f6; border-radius: 20px; padding: 10px 12px; margin-bottom: 20px;">
  <%= form_with url: post_post_entries_path(@post), method: :post, local: true do %>
    <div style="display: flex; gap: 10px; align-items: flex-start;">
      <%# ã‚¢ãƒã‚¿ãƒ¼ %>
      <div style="flex-shrink: 0; padding-top: 2px;">
        <% if current_user.avatar.present? %>
          <%= image_tag current_user.avatar.url, style: "width: 32px; height: 32px; border-radius: 50%; object-fit: cover;" %>
        <% else %>
          <div style="width: 32px; height: 32px; border-radius: 50%; background: linear-gradient(145deg, #667eea, #764ba2); display: flex; align-items: center; justify-content: center; color: white; font-weight: 700; font-size: 12px;">
            <%= current_user.name&.first&.upcase || '?' %>
          </div>
        <% end %>
      </div>

      <%# å…¥åŠ›æ¬„ï¼ˆè‡ªå‹•æ‹¡å¼µtextareaï¼‰ %>
      <textarea name="post_entry[content]" required rows="1"
                placeholder="ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒ—ãƒ©ãƒ³ã‚’æ›¸ã..."
                oninput="this.style.height='auto'; this.style.height=this.scrollHeight+'px';"
                style="flex: 1; min-width: 0; padding: 6px 0; font-size: 14px; line-height: 1.5; color: #1f2937; background: transparent; border: none; outline: none; resize: none; overflow: hidden;"></textarea>

      <%# å³å´ãƒœã‚¿ãƒ³ç¾¤ %>
      <div style="display: flex; align-items: center; gap: 8px; flex-shrink: 0; padding-top: 2px;">
        <%# æœŸé™ %>
        <div style="position: relative;">
          <input type="date" name="post_entry[deadline]"
                 id="deadline-input-<%= @post.id %>"
                 style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; opacity: 0; cursor: pointer;">
          <label for="deadline-input-<%= @post.id %>" style="cursor: pointer; font-size: 16px; display: block;">ðŸ“…</label>
        </div>

        <%# é€ä¿¡ãƒœã‚¿ãƒ³ %>
        <button type="submit" style="width: 32px; height: 32px; border-radius: 50%; background: #10b981; border: none; cursor: pointer; display: flex; align-items: center; justify-content: center;">
          <svg style="width: 16px; height: 16px; color: white;" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
            <path d="M5 12h14M12 5l7 7-7 7" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </button>
      </div>
    </div>
  <% end %>
</div>
