<%# app/views/devise/passwords/edit.html.erb %>
<% content_for :title, "新しいパスワードを設定" %>

<div class="min-h-screen flex items-center justify-center py-12 px-4">
  <div class="max-w-md w-full">

    <%# ロゴ %>
    <div class="text-center mb-8">
      <%= link_to root_path, class: "inline-flex items-center gap-2" do %>
        <div class="w-10 h-10 bg-accent rounded-xl flex items-center justify-center">
          <svg class="w-6 h-6 text-white" viewBox="0 0 24 24" fill="currentColor">
            <path d="M7 2v11h3v9l7-12h-4l4-8z"/>
          </svg>
        </div>
        <span class="text-2xl font-bold text-primary">mitadake?</span>
      <% end %>
    </div>

    <%# カード %>
    <div class="bg-white rounded-2xl border border-accent/20 shadow-sm p-8">
      <div class="text-center mb-6">
        <div class="w-12 h-12 bg-accent/10 rounded-xl flex items-center justify-center mx-auto mb-4">
          <svg class="w-6 h-6 text-accent" viewBox="0 0 24 24" fill="currentColor">
            <path d="M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"/>
          </svg>
        </div>
        <h2 class="text-2xl font-bold text-primary">新しいパスワードを設定</h2>
        <p class="mt-2 text-sm text-primary/60">
          安全なパスワードを設定してください
        </p>
      </div>

      <%= form_for(resource, as: resource_name, url: password_path(resource_name), html: { method: :put, class: "space-y-4" }) do |f| %>
        <%= render "devise/shared/error_messages", resource: resource %>
        <%= f.hidden_field :reset_password_token %>

        <div>
          <%= f.label :password, "新しいパスワード", class: "block text-sm font-medium text-primary mb-1" %>
          <%= f.password_field :password,
              autofocus: true,
              autocomplete: "new-password",
              placeholder: "新しいパスワードを入力",
              class: "w-full px-4 py-3 rounded-xl border border-accent/30 text-primary placeholder-primary/40 focus:border-accent focus:ring-1 focus:ring-accent transition-colors" %>
          <p class="text-xs text-primary/60 mt-1">6文字以上で入力してください</p>
        </div>

        <div>
          <%= f.label :password_confirmation, "新しいパスワード（確認用）", class: "block text-sm font-medium text-primary mb-1" %>
          <%= f.password_field :password_confirmation,
              autocomplete: "new-password",
              placeholder: "新しいパスワードを再入力",
              class: "w-full px-4 py-3 rounded-xl border border-accent/30 text-primary placeholder-primary/40 focus:border-accent focus:ring-1 focus:ring-accent transition-colors" %>
        </div>

        <div class="pt-2">
          <%= f.submit "パスワードを変更",
              class: "w-full bg-accent text-white py-3 px-4 rounded-xl font-semibold hover:bg-accent/90 transition-colors cursor-pointer" %>
        </div>
      <% end %>

      <div class="mt-6 text-center">
        <%= link_to "ログイン画面に戻る", new_user_session_path,
              class: "text-sm text-primary/60 hover:text-accent transition-colors" %>
      </div>
    </div>
  </div>
</div>
