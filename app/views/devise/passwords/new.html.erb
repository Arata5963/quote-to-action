<%# app/views/devise/passwords/new.html.erb %>
<% content_for :title, "パスワードをお忘れの方" %>

<div class="min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4">
  <div class="max-w-md w-full">

    <%# ロゴ %>
    <div class="text-center mb-8">
      <%= link_to root_path, class: "inline-flex items-center gap-2" do %>
        <div class="w-10 h-10 bg-accent rounded-xl flex items-center justify-center">
          <svg class="w-6 h-6 text-primary" viewBox="0 0 24 24" fill="currentColor">
            <path d="M7 2v11h3v9l7-12h-4l4-8z"/>
          </svg>
        </div>
        <span class="text-2xl font-bold text-gray-900">mitadake?</span>
      <% end %>
    </div>

    <%# カード %>
    <div class="bg-white rounded-2xl border border-gray-200 shadow-card p-8">
      <div class="text-center mb-6">
        <div class="w-12 h-12 bg-accent-100 rounded-xl flex items-center justify-center mx-auto mb-4">
          <svg class="w-6 h-6 text-accent-600" viewBox="0 0 24 24" fill="currentColor">
            <path d="M12.65 10C11.83 7.67 9.61 6 7 6c-3.31 0-6 2.69-6 6s2.69 6 6 6c2.61 0 4.83-1.67 5.65-4H17v4h4v-4h2v-4H12.65zM7 14c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"/>
          </svg>
        </div>
        <h2 class="text-2xl font-bold text-gray-900">パスワードをお忘れの方</h2>
        <p class="mt-2 text-sm text-gray-600">
          登録されているメールアドレスを入力してください。<br>
          パスワードリセット用のリンクをお送りします。
        </p>
      </div>

      <%= form_for(resource, as: resource_name, url: password_path(resource_name), html: { method: :post, class: "space-y-4" }) do |f| %>
        <%= render "devise/shared/error_messages", resource: resource %>

        <div>
          <%= f.label :email, "メールアドレス", class: "block text-sm font-medium text-gray-700 mb-1" %>
          <%= f.email_field :email,
              autofocus: true,
              autocomplete: "email",
              placeholder: "mail@example.com",
              class: "w-full px-4 py-3 rounded-xl border border-gray-300 text-gray-900 placeholder-gray-400 focus:border-primary focus:ring-1 focus:ring-primary transition-colors" %>
        </div>

        <div class="pt-2">
          <%= f.submit "リセットメールを送信",
              class: "w-full bg-primary text-white py-3 px-4 rounded-xl font-semibold hover:bg-primary-800 transition-colors cursor-pointer" %>
        </div>
      <% end %>

      <div class="mt-6 text-center">
        <%= link_to "ログイン画面に戻る", new_user_session_path,
              class: "text-sm text-gray-600 hover:text-primary transition-colors" %>
      </div>
    </div>
  </div>
</div>
