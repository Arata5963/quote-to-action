<%# app/views/shared/_header.html.erb %>
<header class="bg-white border-b-2 border-black shadow-sm">
  <div class="mx-auto max-w-screen-xl px-4 sm:px-6 lg:px-8">
    <div class="flex h-16 items-center justify-between">
      
      <%# 左側：ロゴ %>
      <div class="flex items-center">
        <%= link_to root_path, class: "flex items-center gap-3 text-black hover:text-gray-700 transition-colors" do %>
          <!-- 雷アイコン -->
          <div class="w-8 h-8 flex items-center justify-center">
            <svg class="w-6 h-6 fill-current" viewBox="0 0 24 24">
              <path d="M7 2v11h3v9l7-12h-4l4-8z"/>
            </svg>
          </div>
          <span class="text-2xl font-bold tracking-tight">ActionSpark</span>
        <% end %>
      </div>

      <%# 右側：ハンバーガーメニュー（全デバイス共通） %>
      <div class="flex items-center">
        <details class="relative">
          <summary class="p-2 text-black hover:text-gray-600 cursor-pointer list-none transition-colors">
            <svg class="h-5 w-5 fill-current" viewBox="0 0 24 24">
              <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
            </svg>
          </summary>
          
          <div class="absolute right-0 top-full mt-2 w-64 bg-white border-2 border-black rounded-none shadow-lg z-50">
            <nav class="py-4">           
              <% if user_signed_in? %>
                <%= link_to new_post_path, class: "flex items-center gap-3 px-4 py-3 text-black hover:bg-gray-100 transition-colors font-medium border-b border-gray-200" do %>
                  <svg class="w-4 h-4 fill-current" viewBox="0 0 24 24">
                    <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/>
                  </svg>
                  <span>新規投稿</span>
                <% end %>
                
                <%= link_to mypage_path, class: "flex items-center gap-3 px-4 py-3 text-black hover:bg-gray-100 transition-colors font-medium border-b border-gray-200" do %>
                  <svg class="w-4 h-4 fill-current" viewBox="0 0 24 24">
                    <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
                  </svg>
                  <span>マイページ</span>
                <% end %>

                <%= link_to "#", class: "flex items-center gap-3 px-4 py-3 text-black hover:bg-gray-100 transition-colors font-medium border-b border-gray-200" do %>
                  <svg class="w-4 h-4 fill-current" viewBox="0 0 24 24">
                    <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                  </svg>
                  <span>ランキング</span>
                <% end %>

                <%= link_to "#", class: "flex items-center gap-3 px-4 py-3 text-black hover:bg-gray-100 transition-colors font-medium border-b border-gray-200" do %>
                  <svg class="w-4 h-4 fill-current" viewBox="0 0 24 24">
                    <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                  </svg>
                  <span>使い方</span>
                <% end %>
                
                <%= link_to destroy_user_session_path, 
                      data: { "turbo-method": :delete },
                      class: "flex items-center gap-3 px-4 py-3 text-black hover:bg-gray-100 transition-colors font-medium" do %>
                  <svg class="w-4 h-4 fill-current" viewBox="0 0 24 24">
                    <path d="M17 7l-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.59L17 17l5-5-5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4V5z"/>
                  </svg>
                  <span>ログアウト</span>
                <% end %>
              <% else %>
                <%= link_to new_user_session_path, class: "flex items-center gap-3 px-4 py-3 text-black hover:bg-gray-100 transition-colors font-medium border-b border-gray-200" do %>
                  <svg class="w-4 h-4 fill-current" viewBox="0 0 24 24">
                    <path d="M10 17v-3H3v-4h7V7l5 5-5 5z"/>
                  </svg>
                  <span>ログイン</span>
                <% end %>
                
                <%= link_to new_user_registration_path, class: "flex items-center gap-3 px-4 py-3 text-black hover:bg-gray-100 transition-colors font-medium" do %>
                  <svg class="w-4 h-4 fill-current" viewBox="0 0 24 24">
                    <path d="M12 2C13.1 2 14 2.9 14 4C14 5.1 13.1 6 12 6C10.9 6 10 5.1 10 4C10 2.9 10.9 2 12 2ZM21 9V7L15 1H5C3.89 1 3 1.89 3 3V19C3 20.1 3.9 21 5 21H11V19H5V3H13V9H21Z"/>
                  </svg>
                  <span>新規登録</span>
                <% end %>
              <% end %>
            </nav>
          </div>
        </details>
      </div>
    </div>
  </div>
</header>