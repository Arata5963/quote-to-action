<%# コメント表示パーシャル %>
<div class="border-2 border-black p-4 bg-white">
  <%# ヘッダー部分（ユーザー情報と削除ボタン） %>
  <div class="flex justify-between items-start mb-3">
    <%# 左側：ユーザー情報エリア %>
    <div class="flex items-center gap-3">
      <%# ユーザーアバター表示 %>
      <% if comment.user.avatar.present? %>
        <%# アバター画像がある場合 %>
        <%= image_tag comment.user.avatar.thumb.url, class: "w-10 h-10 border-2 border-black object-cover" %>
      <% else %>
        <%# アバター画像がない場合：デフォルトアイコン表示 %>
        <div class="w-10 h-10 border-2 border-black bg-gray-200 flex items-center justify-center">
          <svg class="w-6 h-6 text-black fill-current" viewBox="0 0 24 24">
            <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
          </svg>
        </div>
      <% end %>

      <%# ユーザー名と投稿日時 %>
      <div>
        <%# ユーザー名表示（メールアドレスの@より前を表示） %>
        <span class="font-bold text-black block">
          <%= comment.user.email.split('@').first %>
        </span>
        <%# 投稿日時表示（短縮フォーマット） %>
        <span class="text-xs text-gray-600">
          <%= l(comment.created_at, format: :short) %>
        </span>
      </div>
    </div>

    <%# 右側：削除ボタン（自分のコメントのみ表示） %>
    <% if comment.user == current_user %>
      <%= button_to post_comment_path(@post, comment), 
                    method: :delete,
                    data: { turbo_confirm: t('comments.destroy.confirm') },
                    class: "px-3 py-1 border-2 border-black bg-white hover:bg-gray-100 text-black text-sm font-bold transition-colors" do %>
        削除
      <% end %>
    <% end %>
  </div>

  <%# コメント本文表示（改行を保持） %>
  <p class="text-black whitespace-pre-line pl-13">
    <%= comment.content %>
  </p>
</div>